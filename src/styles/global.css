@config "../../tailwind.config.mjs";
@import "tailwindcss";

@plugin "@tailwindcss/typography";

@keyframes mk-pan-bg {
  from {
    background-position: 1200px 0;
  }
  to {
    background-position: 0 0;
  }
}

@layer components {
  .mk-pan-bg {
    background-repeat: repeat-x;
    background-size: 1200px auto;
    background-position: 0 0;
    animation: mk-pan-bg 50s linear infinite;
  }
}

@font-face {
  font-family: "Dalek";
  src: url("/fonts/dalek.ttf") format("truetype");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@layer base {
  html {
    @apply overflow-x-hidden;
  }

  body {
    @apply overflow-x-hidden bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-100;
  }

  a {
    @apply text-indigo-700 transition-colors duration-150 dark:text-indigo-300;
  }
}

@layer components {
  /* Mini design system */
  .mk-card {
    @apply rounded-xl border border-slate-200 bg-white/90 text-slate-900 shadow-sm backdrop-blur-sm dark:border-slate-600 dark:bg-slate-900/80 dark:text-slate-100;
  }
  .mk-card-strong {
    @apply rounded-xl border border-slate-200 shadow-slate-300 shadow-lg bg-white dark:border-slate-400 dark:bg-slate-800/90 dark:shadow-slate-700;
  }
  .mk-card-ghost {
    @apply rounded-xl border border-slate-200/70 bg-transparent text-slate-900 shadow-none dark:border-slate-700/70 dark:bg-transparent dark:text-slate-100;
  }
  .mk-card-body {
    @apply p-4 md:p-5 text-slate-800 dark:text-slate-100;
  }
  .mk-card-title {
    @apply text-xl md:text-2xl font-semibold text-slate-900 dark:text-slate-50;
  }
  .mk-card-subtitle {
    @apply text-xs md:text-sm uppercase tracking-wide text-slate-500 dark:text-slate-400;
  }
  .mk-kicker {
    @apply text-xs uppercase tracking-[0.2em] text-slate-500 dark:text-slate-400;
  }
  .mk-lead {
    @apply text-base font-semibold md:text-lg text-slate-200;
    background-position: 0 0;
    background-repeat: repeat-x;
    background-size: auto 100%;
    animation: mk-pan-bg 15s linear infinite;
  }
  .mk-input {
    @apply w-full rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm text-slate-900 shadow-sm transition outline-none focus:border-indigo-400 focus:ring-2 focus:ring-indigo-200 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100 dark:focus:border-indigo-300 dark:focus:ring-indigo-300/40;
  }
  .mk-chip {
    @apply inline-flex items-center gap-2 rounded-full border-1 border-slate-300 bg-white px-3 py-2 text-sm font-semibold text-slate-900 shadow-sm transition hover:-translate-y-[1px] hover:border-indigo-200 hover:shadow-md dark:border-slate-400 dark:bg-slate-900/80 dark:text-slate-100 dark:hover:border-indigo-300/60;
  }
  .mk-pill {
    @apply inline-flex items-center gap-2 rounded-full border-2 border-slate-200 bg-slate-50 px-3 py-1.5 text-xs font-semibold text-slate-800 transition dark:border-slate-700 dark:bg-slate-800 dark:text-slate-100;
  }
  .mk-pill-amber {
    @apply border border-[#d6b99cb3] bg-[#f4e7d0] text-[#7a4f27] dark:border-amber-300/60 dark:bg-amber-900/40 dark:text-amber-100;
  }
  .mk-tag-link {
    @apply inline-flex items-center justify-center rounded-full border border-[#d6b99cb3] bg-[#f4e7d0] text-[#7a4f27] px-3 py-2 text-sm font-semibold shadow-sm transition hover:-translate-y-[1px] hover:border-amber-300 hover:shadow-md dark:border-amber-300/70 dark:bg-amber-900/40 dark:text-amber-100;
  }
  .mk-prose-card {
    @apply text-slate-800 lg:text-lg md:text-sm prose prose-slate max-w-none leading-relaxed dark:text-slate-100 dark:prose-invert;
  }

  /* Héritage */
  .card {
    @apply rounded-2xl border border-slate-200 bg-white/90 text-slate-900 shadow-sm backdrop-blur-sm dark:border-slate-700/80 dark:bg-slate-900/80 dark:text-slate-100;
  }

  /* Boutons-badge */
  .badge-link {
    @apply relative inline-flex items-center font-bold uppercase tracking-[0.01em] rounded-full text-[0.8rem] no-underline z-0 transition duration-150 ease-out text-slate-900 dark:text-slate-100;
    gap: 0.45rem;
    padding: 0.5rem 1.85rem 0.5rem 1rem;
    border: 1.5px solid rgba(79, 70, 229, 0.6);
    background: linear-gradient(135deg, #eef2ff 0%, #fff 60%, #f0f9ff 100%);
    box-shadow: 0 10px 22px rgba(79, 70, 229, 0.18);
  }
  .badge-link::before {
    content: "";
    width: 0.85rem;
    height: 0.85rem;
    border-radius: 9999px;
    border: 2px solid rgba(79, 70, 229, 0.8);
    background: rgba(79, 70, 229, 0.15);
    box-shadow: inset 0 0 4px rgba(79, 70, 229, 0.35);
  }
  .badge-link::after {
    content: "";
    position: absolute;
    right: 0.95rem;
    top: 50%;
    width: 0.65rem;
    height: 0.65rem;
    border-right: 2px solid currentColor;
    border-bottom: 2px solid currentColor;
    transform: translateY(-50%) rotate(-45deg);
    opacity: 0.75;
    transition: transform 140ms ease, opacity 140ms ease;
  }
  .badge-link:hover {
    border-color: rgba(79, 70, 229, 0.65);
    transform: translateY(-1px);
    box-shadow: 0 12px 26px rgba(79, 70, 229, 0.28);
    opacity: 0.96;
  }
  .badge-link:hover::after {
    transform: translate(2px, -50%) rotate(-45deg);
    opacity: 0.95;
  }
  .badge-link--small {
    padding: 0.35rem 1.1rem 0.35rem 0.8rem;
    font-size: 0.72rem;
    gap: 0.35rem;
  }
  .badge-link--small::before {
    width: 0.7rem;
    height: 0.7rem;
  }
  .badge-link--small::after {
    right: 0.7rem;
    width: 0.55rem;
    height: 0.55rem;
  }
  .badge-link--primary {
    border-color: transparent;
    background: linear-gradient(135deg, #4f46e5, #8b5cf6);
    color: #fff;
    box-shadow: 0 10px 24px rgba(79, 70, 229, 0.35);
    z-index: 0;
  }
  .badge-link--primary:hover {
    box-shadow: 0 12px 28px rgba(79, 70, 229, 0.45);
  }
  .badge-link--back {
    padding-left: 1.3rem;
  }
  .badge-link--back::before {
    width: 0.65rem;
    height: 0.65rem;
    border-radius: 0;
    border: none;
    background: transparent;
    box-shadow: none;
    border-left: 2px solid currentColor;
    border-bottom: 2px solid currentColor;
    transform: rotate(45deg);
    margin-right: 0.1rem;
  }
  .badge-link--back::after {
    display: none;
  }
  .badge-link--neutral {
    @apply text-indigo-700 dark:text-indigo-700;
  }
}

:root .prose blockquote {
  font-style: normal;
}
:root .prose blockquote p {
  font-style: normal;
  font-weight: inherit;
}
:root .prose blockquote strong,
:root .prose blockquote b {
  font-weight: inherit !important;
  font-style: inherit !important;
}
:root .prose :where(blockquote strong, blockquote b):not(:where([class~="not-prose"] *)) {
  font-weight: inherit !important;
  font-style: inherit !important;
}
:root .prose blockquote p:first-of-type::before,
:root .prose blockquote p:last-of-type::after {
  /* Désactive les guillemets automatiques générés par @tailwindcss/typography */
  content: none;
}
